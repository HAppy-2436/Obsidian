# 枚举类型

## 定义
枚举（enum）是用户定义的类型，用于定义一组相关的命名整数常量，提高代码的可读性和可维护性。默认从0开始递增。

## 核心内容
**1. 基本语法**
```c
enum Color {
    RED,      // 0
    GREEN,    // 1
    BLUE      // 2
};

enum Color c = RED;
```

**2. 指定值**
```c
enum Status {
    SUCCESS = 0,
    ERROR = -1,
    PENDING = 100,
    TIMEOUT = 101  // 后续递增
};
```

**3. 枚举应用**
```c
enum Weekday {
    MON, TUE, WED, THU, FRI, SAT, SUN
};

void print_day(enum Weekday day) {
    switch (day) {
        case MON: printf("Monday\n"); break;
        case TUE: printf("Tuesday\n"); break;
        // ...
    }
}
```

**4. 位标志（Bit Flags）**
```c
enum FileMode {
    READ  = 1 << 0,  // 0x01
    WRITE = 1 << 1,  // 0x02
    EXEC  = 1 << 2   // 0x04
};

int mode = READ | WRITE; // 可组合
if (mode & READ) {
    // 检查读权限
}
```

**5. typedef简化**
```c
typedef enum {
    FALSE,
    TRUE
} Bool;

Bool flag = TRUE; // 不用写 enum Bool
```

**6. 匿名枚举（作为常量）**
```c
enum { MAX_SIZE = 100, MAX_NAME = 50 };
char buffer[MAX_SIZE];
```

**7. 枚举 vs 宏**
| 特性 | enum | #define |
|------|------|---------|
| 类型检查 | 有 | 无 |
| 作用域 | 有 | 无（全局） |
| 调试 | 显示名称 | 显示数值 |
| 自动递增 | 支持 | 不支持 |
| 命名空间 | enum名隔离 | 全局污染 |

## 应用场景
- 状态机：定义状态常量（IDLE, RUNNING, STOPPED）
- 错误码：SUCCESS, ERR_MEMORY, ERR_IO等
- 配置选项：日志级别（DEBUG, INFO, ERROR）
- 位标志：文件权限、设备状态
- switch分支：提高可读性

## 注意事项
- 枚举本质是int类型（可与整数互换）
- 编译器不检查枚举越界（可赋任意整数）
- C语言枚举值可重复（不推荐）
- 枚举成员在全局命名空间（可能冲突）
- C++中enum更严格，建议用enum class

## 关联知识
与 [[宏定义]]、[[const关键字]]、[[位运算]]、[[共用体]] 相关。
