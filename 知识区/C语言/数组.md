# 数组

## 定义
数组是相同类型元素的连续内存存储结构，通过下标（索引）访问元素。C语言中数组名代表首元素地址，与[[指针]]密切相关。数组大小在编译期确定（静态数组），访问速度快（O(1)），但大小固定。数组是最基本的数据结构，是理解[[内存布局]]和指针运算的基础。

## 核心内容
**声明与初始化**：
```c
int arr1[5];                    // 声明，未初始化（垃圾值）
int arr2[5] = {1,2,3,4,5};      // 完全初始化
int arr3[5] = {1,2};            // 部分初始化，剩余为0
int arr4[] = {1,2,3};           // 自动推断大小为3
int arr5[5] = {0};              // 全部初始化为0
```

**数组访问**：
```c
arr[0];        // 下标访问（编译器优化为指针）
*(arr + i);    // 指针访问，等价于arr[i]
```

**数组与指针**：
- 数组名是常量指针，指向首元素
- `arr` 等价于 `&arr[0]`
- `arr + i` 指向第i个元素
- `sizeof(arr)` 是数组总字节数
- `sizeof(arr)/sizeof(arr[0])` 是元素个数

**[[二维数组]]**：
```c
int matrix[3][4];  // 3行4列
// 内存中按行连续存储
// matrix[i][j] = *(*(matrix+i)+j)
```

**数组传参**：
```c
void func(int arr[], int size);    // 方式1
void func(int *arr, int size);     // 方式2，等价
// 数组传参退化为指针，丢失大小信息
```

**字符数组**：
```c
char str1[] = "hello";   // 6字节，含'\0'
char str2[10] = "hi";    // 10字节，hi\0...
char *str3 = "hello";    // 指向字符串常量
```

**常见操作**：
- 遍历：for循环
- 复制：memcpy、循环
- 比较：memcmp、循环
- 查找：线性查找、二分查找
- 排序：qsort、冒泡、快排等

## 应用场景
存储同类型数据集合；字符串处理（字符数组）；矩阵运算（二维数组）；查找排序算法；缓冲区；静态数据表。

## 注意事项
- 下标从0开始，最大下标为size-1
- 越界访问是未定义行为（C不检查）
- 数组作参数退化为指针
- sizeof(数组名)与sizeof(指针)不同

## 关联知识
与 [[指针]]、[[二维数组]]、[[字符串]]、[[内存布局]]、[[动态内存分配]] 相关。
