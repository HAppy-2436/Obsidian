# 指针

## 定义
指针是存储变量内存地址的变量，通过`*`运算符解引用访问地址中的值，通过`&`运算符获取变量地址。指针是C语言最强大也最危险的特性，实现了对内存的直接操作。指针与[[数组]]、[[函数传参]]、[[动态内存分配]]密切相关，是理解C语言内存模型的关键，也是面试高频考点。

## 核心内容
**基本概念**：
```c
int a = 10;      // 普通变量
int *p = &a;     // 指针变量，存储a的地址
int value = *p;  // 解引用，获取地址指向的值(10)
```

**声明与初始化**：
```c
int *p1;              // 声明（未初始化，危险！）
int *p2 = NULL;       // 初始化为空指针（安全）
int *p3 = &variable;  // 初始化为变量地址
```

**指针运算**：
- `p++`：指向下一个元素（地址+sizeof(type)）
- `p--`：指向前一个元素
- `p1 - p2`：两指针间元素个数（同类型）
- `p + n`：偏移n个元素

**指针类型**：
1. **普通指针**：`int *p`
2. **[[指针数组]]**：`int *arr[10]`（数组的元素是指针）
3. **[[数组指针]]**：`int (*p)[10]`（指向数组的指针）
4. **[[函数指针]]**：`int (*fp)(int, int)`
5. **指向指针的指针**：`int **pp`（二级指针）
6. **void指针**：`void *p`（通用指针，需要强制转换）
7. **const指针**：
   - `const int *p`：指向常量的指针（不能改值）
   - `int *const p`：常量指针（不能改指向）
   - `const int *const p`：两者都不能改

**指针与数组**：
```c
int arr[5] = {1,2,3,4,5};
int *p = arr;  // 数组名是首元素地址
// arr[i] 等价于 *(arr+i) 等价于 *(p+i)
```

**常见陷阱**：
1. **野指针**：未初始化的指针
2. **悬空指针**：指向已释放的内存
3. **内存泄漏**：分配的内存未释放
4. **越界访问**：访问超出范围的内存

## 应用场景
[[动态内存分配]]（malloc/free）；函数参数传递（传址）；[[链表]]等动态数据结构；字符串操作；数组遍历；回调函数。

## 注意事项
- 声明后必须初始化，否则是野指针
- 使用前检查是否为NULL
- free后应将指针置为NULL
- 指针运算要注意类型和边界

## 关联知识
与 [[数组]]、[[动态内存分配]]、[[函数指针]]、[[链表]]、[[内存布局]] 相关。
