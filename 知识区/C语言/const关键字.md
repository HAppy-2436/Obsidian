# const关键字

## 定义
const是C语言中的类型限定符，用于声明常量或只读变量。被const修饰的变量在初始化后不能被修改，任何试图修改的行为都会引发编译错误。

## 核心内容
**1. const变量**
```c
const int MAX = 100;      // 常量定义
const float PI = 3.14159; // 初始化后不可修改
```

**2. const指针（指针常量vs常量指针）**
```c
int a = 10, b = 20;
const int *p1 = &a;  // 指向常量的指针：不能通过p1修改a的值，但p1可以指向别的地址
int *const p2 = &a;  // 指针常量：p2不能指向别的地址，但可以通过p2修改a的值
const int *const p3 = &a; // 既不能修改值，也不能改变指向
```
**记忆口诀**：const靠近谁，谁就不能改。

**3. const函数参数**
```c
void print(const char *str) {
    // 函数内不能修改str指向的内容
    printf("%s", str);
}
```
保护实参不被意外修改，增强代码安全性。

**4. const vs #define**
| 特性 | const | #define |
|------|-------|---------|
| 类型检查 | 有 | 无 |
| 作用域 | 遵循作用域规则 | 全局文本替换 |
| 调试 | 可见 | 预处理后消失 |
| 存储 | 占用内存 | 不占内存 |

## 应用场景
- 函数参数保护：防止函数修改传入的数组或结构体
- 全局常量定义：替代#define，提供类型安全
- 接口设计：const char*表示字符串不会被修改
- 嵌入式编程：const数据可放在ROM中节省RAM

## 注意事项
- const变量必须在声明时初始化
- const int *p和int const *p等价（const在*左边）
- const不能保证变量绝对不可修改（可通过指针强制转换绕过）
- 数组参数：`void func(const int arr[])` 保护数组内容

## 关联知识
与 [[指针]]、[[宏定义]]、[[静态变量]] 相关。
